---
import { getCollection } from 'astro:content';
import Template from "./Template.astro";
import MainTemplate from "./MainTemplate.astro";
import Article from "../components/Article.astro";
import Comments from "../components/Comments.astro";

const { title, pubDate, updatedDate, heroImage } = Astro.props;

const posts = await getCollection('blog');
const myCategory = posts.map((post) => post.data.category);
---

<Template {title}>
    <MainTemplate className="blogArticle">
        <Article {title} {pubDate} {updatedDate} {heroImage} {myCategory}>
            <slot/>
        </Article>
        <Comments/>
    </MainTemplate>
</Template>